# 使用awk按字段去除文件人重复行
awk -F, '!a[$1,$7]++' /var/logs/keybagd.log.0

-F,: 指定逗号作为字段分隔符.

'!a[$1,$7]++': 根据第2第4个字段是否是第一次出现;
a是一个数组,用于存储某个值出现的中次数,初始值为0,然后加1,将次数当作逻辑值使用,再通过!取反,
第一次出现,表达式为真,输出该行,否则跳过该行.

这种方法的优点:
1. 可以处理任何分隔符分割的文本文件,使用任意字段进行重复检查,并且不需要事先对文本内容进行排序


